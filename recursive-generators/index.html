<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f628065b851287e306e5.css">@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.21.16"/><link rel="alternate" type="application/rss+xml" title="Velibor Želi&#x27;s blog" href="/rss.xml"/><title data-react-helmet="true">Recursive Generators - @myletters</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/lightbulb-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/lightbulb-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="This article provides alternative ways to implement  count ,  cycle  and
 repeat  generator functions that are a part of the  itertools…"/><meta data-react-helmet="true" name="image" content="https://mylette.rs"/><meta data-react-helmet="true" property="og:title" content="Recursive Generators"/><meta data-react-helmet="true" property="og:url" content="https://mylette.rs/recursive-generators"/><meta data-react-helmet="true" property="og:description" content="This article provides alternative ways to implement  count ,  cycle  and
 repeat  generator functions that are a part of the  itertools…"/><meta data-react-helmet="true" property="og:image" content="https://mylette.rs"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="This article provides alternative ways to implement  count ,  cycle  and
 repeat  generator functions that are a part of the  itertools…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Recursive Generators"/><meta data-react-helmet="true" name="twitter:url" content="https://mylette.rs/recursive-generators"/><meta data-react-helmet="true" name="twitter:description" content="This article provides alternative ways to implement  count ,  cycle  and
 repeat  generator functions that are a part of the  itertools…"/><meta data-react-helmet="true" name="twitter:image" content="https://mylette.rs"/><meta data-react-helmet="true" name="twitter:image:alt" content="This article provides alternative ways to implement  count ,  cycle  and
 repeat  generator functions that are a part of the  itertools…"/><meta data-react-helmet="true" name="twitter:creator" content="Velibor Želi"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#6B46C1"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><link as="script" rel="preload" href="/framework-9fa3c3527bf76bdd7ce7.js"/><link as="script" rel="preload" href="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-5fb9095d46baa75b920d.js"/><link as="script" rel="preload" href="/commons-284fd4559797fad9e19a.js"/><link as="script" rel="preload" href="/styles-f12963b3798c232a68f6.js"/><link as="script" rel="preload" href="/app-aaedecbb9476a1765865.js"/><link as="script" rel="preload" href="/f0e45107-afe5701ff94b95ebfc0d.js"/><link as="script" rel="preload" href="/webpack-runtime-a970fe7df59ed9d5d1ce.js"/><link as="fetch" rel="preload" href="/page-data/recursive-generators/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="1hycliv">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}</style><style data-emotion-css="15y10hy">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1s131zq">*{box-sizing:inherit;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width:640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion-css="1wt4r56">.css-1wt4r56{margin-bottom:4rem;}@media screen and (min-width:640px){.css-1wt4r56{margin-bottom:8rem;}}</style><header class="css-1wt4r56"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="@myletters - Back to home" class="css-dz3ojy" href="/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><h1 class="css-1kmktz0">@myletters</h1></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div><style data-emotion-css="1kvspmd">.css-1kvspmd{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide,#cbd5e0);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-1kvspmd a{color:var(--theme-ui-colors-secondary,#5f6c80);}.css-1kvspmd a:hover{color:var(--theme-ui-colors-heading,#000);}</style><div class="css-1kvspmd"><style data-emotion-css="nrb238">.css-nrb238{font-size:1rem;}.css-nrb238 a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width:640px){.css-nrb238{font-size:18px;}}.css-nrb238 .active{color:var(--theme-ui-colors-heading,#000);}</style><nav class="css-nrb238"><style data-emotion-css="688a3f">.css-688a3f{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-688a3f:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-688a3f" href="/blog">Blog</a><a class="css-688a3f" href="/about">About</a></nav><style data-emotion-css="e5k4e3">.css-e5k4e3{font-size:1rem;}.css-e5k4e3 a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width:640px){.css-e5k4e3{font-size:18px;}}</style><div class="css-e5k4e3"><a href="https://github.com/vezeli" class="css-688a3f">GitHub</a><a href="https://www.linkedin.com/in/velibor-zeli/" class="css-688a3f">LinkedIn</a><a href="https://mylette.rs/rss.xml" class="css-688a3f">RSS</a></div></div></header><style data-emotion-css="u8ayk2">.css-u8ayk2 [data-name='live-editor']{font-size:1rem;}.css-u8ayk2 [data-name='live-editor'] textarea,.css-u8ayk2 [data-name='live-editor'] pre{padding:1rem !important;}.css-u8ayk2 [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-u8ayk2 .prism-code{font-size:1rem;padding:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);overflow:initial;float:left;min-width:100%;margin-bottom:0;}.css-u8ayk2 .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-u8ayk2 .token{display:inline-block;}.css-u8ayk2 .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);overflow:auto;border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-u8ayk2 .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-u8ayk2 .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-u8ayk2 .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-u8ayk2 .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;}.css-u8ayk2 .gatsby-highlight pre.language-{margin-top:0;}.css-u8ayk2 .gatsby-highlight pre.language-noLineNumbers{margin-top:0;}.css-u8ayk2 .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-u8ayk2 .gatsby-highlight pre[class~="language-javascript"]:before,.css-u8ayk2 .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-py"]:before{content:"py";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-u8ayk2 .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-u8ayk2 .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-u8ayk2 .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-u8ayk2 .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-u8ayk2 .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-u8ayk2 .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-u8ayk2 .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-u8ayk2 .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-u8ayk2 .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-u8ayk2 .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-u8ayk2 .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-u8ayk2 .gatsby-highlight pre[class~='language-json']:before,.css-u8ayk2 .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-u8ayk2 .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-u8ayk2 .gatsby-highlight > code[class*="language-"],.css-u8ayk2 .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-u8ayk2 .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-u8ayk2 .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-u8ayk2 .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-u8ayk2 .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-u8ayk2 .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-u8ayk2 [data-name='live-preview'],.css-u8ayk2 [data-name='live-editor']{margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-u8ayk2 [data-name='live-preview'],.css-u8ayk2 [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-u8ayk2 [data-name='live-preview'],.css-u8ayk2 [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-u8ayk2 [data-name='live-preview'],.css-u8ayk2 [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-u8ayk2 .token-line{padding-right:1rem;}.css-u8ayk2 .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-u8ayk2 .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}</style><style data-emotion-css="141s1kw">.css-141s1kw{box-sizing:border-box;margin:0;min-width:0;}.css-141s1kw [data-name='live-editor']{font-size:1rem;}.css-141s1kw [data-name='live-editor'] textarea,.css-141s1kw [data-name='live-editor'] pre{padding:1rem !important;}.css-141s1kw [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-141s1kw .prism-code{font-size:1rem;padding:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);overflow:initial;float:left;min-width:100%;margin-bottom:0;}.css-141s1kw .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-141s1kw .token{display:inline-block;}.css-141s1kw .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);overflow:auto;border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-141s1kw .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-141s1kw .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-141s1kw .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-141s1kw .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;}.css-141s1kw .gatsby-highlight pre.language-{margin-top:0;}.css-141s1kw .gatsby-highlight pre.language-noLineNumbers{margin-top:0;}.css-141s1kw .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-141s1kw .gatsby-highlight pre[class~="language-javascript"]:before,.css-141s1kw .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-py"]:before{content:"py";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-141s1kw .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-141s1kw .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-141s1kw .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-141s1kw .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-141s1kw .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-141s1kw .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-141s1kw .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-141s1kw .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-141s1kw .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-141s1kw .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-141s1kw .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-141s1kw .gatsby-highlight pre[class~='language-json']:before,.css-141s1kw .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-141s1kw .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-141s1kw .gatsby-highlight > code[class*="language-"],.css-141s1kw .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-141s1kw .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-141s1kw .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-141s1kw .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-141s1kw .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-141s1kw .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-141s1kw [data-name='live-preview'],.css-141s1kw [data-name='live-editor']{margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-141s1kw [data-name='live-preview'],.css-141s1kw [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-141s1kw [data-name='live-preview'],.css-141s1kw [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-141s1kw [data-name='live-preview'],.css-141s1kw [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-141s1kw .token-line{padding-right:1rem;}.css-141s1kw .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-141s1kw .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}</style><div id="skip-nav" class="css-141s1kw"><style data-emotion-css="1wy36g2">.css-1wy36g2{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:0.5rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1wy36g2{font-size:2.25rem;}}@media screen and (min-width:768px){.css-1wy36g2{font-size:3rem;}}</style><h2 class="css-1wy36g2">Recursive Generators</h2><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>26.08.2020</time> — <a class="css-688a3f" href="/tags/python">python</a>, <a class="css-688a3f" href="/tags/iterators">iterators</a>, <a class="css-688a3f" href="/tags/functional-programming">functional programming</a> — <span>6<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="1bkk5q4">.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}</style><p class="css-1bkk5q4">This article provides alternative ways to implement <code class="css-0">count</code>, <code class="css-0">cycle</code> and
<code class="css-0">repeat</code> generator functions that are a part of the <code class="css-0">itertools</code> module in the
Python Standard Library (PSL). The proposed solutions are based on the
principle of <em class="css-0">functional recursion</em> and are similar to design patterns used in
functional programming. The main message of the article is, however, not to
propose potential improvements to the PSL but to challenge programmers and open
them to a new way of thinking about iterators. It also goes to show that in the
context of iterators the idea of functional recursion comes naturally with the
use of the <code class="css-0">yield from</code> statement. Hence, it&#x27;s very unfortunate that Python
doesn&#x27;t have better support for recursion.</p><style data-emotion-css="1u9n620">.css-1u9n620{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:1rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1u9n620{font-size:1.875rem;}}@media screen and (min-width:768px){.css-1u9n620{font-size:2.25rem;}}</style><h3 class="css-1u9n620">Recursive Generators 101</h3><p class="css-1bkk5q4">Generator functions are specific functions that contain <code class="css-0">yield</code> or <code class="css-0">yield from</code>
statements inside their function body. Unlike regular functions, generator
functions return generator objects when they are called. If you feel that you
would like to brush up your knowledge about generators take a look at my other
article called <style data-emotion-css="1od09yo">.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://mylette.rs/going-over-iterators-and-generators" class="css-1od09yo">Going Over Iterators and
Generators</a>.</p><p class="css-1bkk5q4"><em class="css-0">Recursive generator functions</em> are a subset of regular generator functions.
More specifically, recursive generator function is defined by calling itself
inside the body of the same generator function. The main problem for achieving
recursion with generator functions is the fact that they return a generator
instance which awaits for the <code class="css-0">next</code> built-in function to call it in order to
produce a value. This behaviour obviously hinders recursion.  Therefore,
calling a generator function returns a generator that needs to be unpacked in
order to establish recursion. We&#x27;ll see that in Python this can be achieved
using the <code class="css-0">yield from</code> statement.</p><p class="css-1bkk5q4">The following subsection introduces the concept of the <code class="css-0">yield from</code> statement
which is essential for unpacking iterators (generators). Afterwards, we&#x27;ll use
it to establish recursive iteration in recursive generator functions.</p><style data-emotion-css="1g1owk0">.css-1g1owk0{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1g1owk0{font-size:1.25rem;}}@media screen and (min-width:768px){.css-1g1owk0{font-size:1.5rem;}}</style><h5 class="css-1g1owk0">The <code class="css-0">yield from</code> Statement: The Unpacking Mechanism</h5><p class="css-1bkk5q4">The <code class="css-0">yield from</code> statement was introduced to delegate subgenerators in the
context of coroutines (see <a href="https://www.python.org/dev/peps/pep-0380/" class="css-1od09yo">PEP
380</a>). However, when it&#x27;s used in
the context of simple generators (non-coroutine objects) its usage becomes
simple. Therefore, for the purpose of this article consider the <code class="css-0">yield from</code>
statement as a way to unpack iterable objects (objects with <code class="css-0">__iter__</code> or
<code class="css-0">__getitem__</code> dunder methods) until they raise the <code class="css-0">StopIteration</code> exception at
which point the unpacking stops. Consider the following generator function:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">unpack</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> iterable</span></div></pre></div><p class="css-1bkk5q4">As long as we make sure not to pass a coroutine as function argument, the above
generator function behaves the same as the following:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">unpack_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> i</span></div></pre></div><p class="css-1bkk5q4">Both <code class="css-0">unpack</code> and <code class="css-0">unpack_</code> are generator functions that accept a single
argument and return a generator. To show that the functions produce the same
results the following example unpacks a tuple and save it in a list:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><div class="token-line" style="color:#d6deeb"><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">unpack</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">unpack_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></pre></div><p class="css-1bkk5q4">Now let&#x27;s create an iterator and pass it to the <code class="css-0">yield from</code>:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><div class="token-line" style="color:#d6deeb"><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">iter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">unpack</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></pre></div><p class="css-1bkk5q4">This shows that the behaviour of the <code class="css-0">yield_from</code> statement is the same for
containers (<code class="css-0">tuple</code>, <code class="css-0">list</code>, <code class="css-0">range</code>) and iterable objects. The <code class="css-0">yield from</code>
statement provides a simple framework for unpacking iterable objects until the
<code class="css-0">StopIteration</code> exception signals to stop unpacking. </p><h5 class="css-1g1owk0">Recursive Generators: The Matriyoshka Example</h5><p class="css-1bkk5q4">In the following example we&#x27;ll look at the recursive nature of the <a href="https://en.wikipedia.org/wiki/Matryoshka_doll" class="css-1od09yo">Matriyoshka
doll</a> and create a recursive
generator function that unpacks the doll.</p><p class="css-1bkk5q4">We&#x27;ll use <code class="css-0">NamedTuple</code> type to model the doll and specify the size of the doll
in the field called <code class="css-0">size</code>. This field reflects the number of dolls that the
original holds inside of it. The smallest doll has has the <code class="css-0">size</code> field equal
to zero (i.e., it doesn&#x27;t contain other dolls). Here&#x27;s the model for a
matriyoshka doll:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> NamedTuple</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NamedTuple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span></div></pre></div><p class="css-1bkk5q4">For example <code class="css-0">Matriyoshka(size=2)</code> is an object that models a doll that has two
dolls inside it, namely <code class="css-0">Matriyoshka(size=1)</code> and <code class="css-0">Matriyoshka(size=0)</code>
objects. Note that with the relationship between the objects is weak in the
sense that the original doll only has a larger size but doesn&#x27;t explicitly
enclose the smaller dolls.</p><p class="css-1bkk5q4">Let&#x27;s create a recursive generator function which recursively opens each doll
until the smallest doll is reached (i.e., doll that has <code class="css-0">size</code> equal to zero):</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> Iterator</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">open_matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> Iterator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> m</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> m</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">size </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> open_matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">_make</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">size </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre></div><p class="css-1bkk5q4">This function is a recursive generator function because it calls itself inside
of the function body. When the generator function is called with one argument
it returns a generator object. Generator objects are iterable and therefore
interact nicely with the <code class="css-0">yield from</code> statement. The <code class="css-0">yield from</code> statement
unpacks the generator which is created by calling <code class="css-0">open_matriyoshka</code> with a
doll of decremented size as a function argument. The decrementing ensures that
the doll size becomes smaller. The recursive iteration continues until the
<em class="css-0">base case for recursion</em> is reached (i.e., until the algorithm decrements the
doll size sufficiently many times to reach the smallest doll with the <code class="css-0">size</code>
field equal to zero). Once the base case is reached the recursion stops.</p><p class="css-1bkk5q4">Let&#x27;s test our recursive generator function and show that it can be used to
unpack <code class="css-0">Matriyoshka</code> objects:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><div class="token-line" style="color:#d6deeb"><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> open_matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Traceback </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  File </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&lt;stdin&gt;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> line </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain">module</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">StopIteration</span></div></pre></div><p class="css-1bkk5q4">Generator <code class="css-0">g</code> is created after calling <code class="css-0">open_matriyoshka</code> with an argument
<code class="css-0">Matriyoshka(size=2)</code>, i.e., object that represents a doll which has two dolls
inside it. Each time the <code class="css-0">next</code> built-in function is called on the generator
<code class="css-0">g</code> the code inside the generator function runs until the next <code class="css-0">yield</code>
statement and produces a value which follows it. When the code reaches the
<code class="css-0">yield from</code> statement it creates a new generator and continues searching for
the next <code class="css-0">yield</code> statement inside it. When there are no more <code class="css-0">yield</code> statements
the original generator <code class="css-0">g</code> is exhausted and the <code class="css-0">StopIteration</code> exception is
raised.</p><p class="css-1bkk5q4">In the following section we&#x27;ll use the recursive mechanism to rewrite three
functions from the <code class="css-0">itertools</code> module.</p><h3 class="css-1u9n620">Reimplementing <code class="css-0">count</code>, <code class="css-0">cycle</code> and <code class="css-0">repeat</code> Functions</h3><p class="css-1bkk5q4"><code class="css-0">count</code>, <code class="css-0">cycle</code> and <code class="css-0">repeat</code> are iterator factories defined in the <code class="css-0">itertools</code>
module that are used for creating well-optimized iterators that are both fast
and memory efficient. The functions are implemented in C programming language
and live inside the
<a href="https://github.com/python/cpython/blob/384621c42f9102e31ba2c47feba144af09c989e5/Modules/itertoolsmodule.c" class="css-1od09yo">itertoolsmodule.c</a>
file. For the sake of completeness every function from the module has an
equivalent Python implementation which complements the
<a href="https://docs.python.org/3/library/itertools.html#itertools.cycle" class="css-1od09yo">documentation</a>
of the module. Before reimplementing these functions we&#x27;ll cover the basic use
cases and the way they are implemented according to the Python documentation:</p><style data-emotion-css="15rlv7r">.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0"><code class="css-0">count</code> creates an infinite counter <code class="css-0">&gt;&gt;&gt; count(10) --&gt; 10 11 12
13 14 ...</code></li></ul><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">start</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> step</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    n </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> start</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">while</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> n</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">        n </span><span class="token operator" style="color:rgb(127, 219, 202)">+=</span><span class="token plain"> step</span></div></pre></div><ul class="css-15rlv7r"><li class="css-0"><code class="css-0">cycle</code> indefinitely cycles over an iterable object <code class="css-0">&gt;&gt;&gt; cycle(&quot;ABC&quot;) --&gt; A B C A B C A ...</code></li></ul><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cycle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    saved </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> element </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> element</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">        saved</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">while</span><span class="token plain"> saved</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> element </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> saved</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> element</span></div></pre></div><ul class="css-15rlv7r"><li class="css-0"><code class="css-0">repeat</code> repeats an object infinitely or finite number of times <code class="css-0">&gt;&gt;&gt;
repeat(10, 3) --&gt; 10 10 10</code></li></ul><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">repeat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> times</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> times </span><span class="token keyword" style="color:rgb(127, 219, 202)">is</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">while</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">object</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">times</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">object</span></div></pre></div><p class="css-1bkk5q4">Note that these functions share the same design pattern. They instantiate
infinite iterators by dropping into an infinite <code class="css-0">while</code> loop (highlighted lines
in the above code examples). This ensures that the iterators always have a
<code class="css-0">yield</code> statement that produces a new value and that the iterator is unable to
raise the <code class="css-0">StopIteration</code> exception (i.e., to get exhausted). This particular
design, using an infinite <code class="css-0">while</code> loop, is an obvious solution that a lot of
programmers in the context of imperative programming are comfortable with.</p><p class="css-1bkk5q4">Next we&#x27;ll put on our &quot;functional-programming&quot; hats and reimplement these
functions in the form of previously introduced recursive generator functions.</p><h5 class="css-1g1owk0">Recursive <code class="css-0">count</code> Function</h5><p class="css-1bkk5q4">The <code class="css-0">count</code> function is probably the simplest one to implement:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> Union</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">Number </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> Union</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">float</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">recount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> step</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Number </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> Number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> x</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> recount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> step</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> step</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre></div><p class="css-1bkk5q4">When this generator function is called it creates a generator object. The
generator simply yields the first argument that is passed when the generator
function is called. Then it creates a new generator with an incremented value.
The new generator is unpacked using the <code class="css-0">yield from</code> statement. The code
continues to search through the newly created generator for the next <code class="css-0">yield</code>
statement. That way new values are being produced. Each time a new value is
produces a new generators with an incremented value is created. Here&#x27;s an
example:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><div class="token-line" style="color:#d6deeb"><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> recount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">14</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">16</span></div></pre></div><p class="css-1bkk5q4">We&#x27;ll use the same idea to reimplement the <code class="css-0">cycle</code> and <code class="css-0">repeat</code> functions.
First the generator needs to yield a value and than it recursively creates a
new generator which gets unpacked.</p><h5 class="css-1g1owk0">Recursive <code class="css-0">cycle</code> Function</h5><p class="css-1bkk5q4">Looking at the <code class="css-0">cycle</code> function you&#x27;ll notice that there is a quirk. Before
<code class="css-0">cycle</code> drops into the infinite loop it saves elements from the iterable into a
<code class="css-0">list</code> type object. This ensures that the iterable over which the code cycles
doesn&#x27;t get exhausted. This is not needed for container-type objects (e.g.,
<code class="css-0">list</code>, <code class="css-0">tuple</code>, <code class="css-0">range</code>) but is important for iterators and generators since
they get exhausted once there are no more <code class="css-0">yield</code> statements to produce new
values. To create recursive generator function we&#x27;ll use a similar trick and
make a copy of the iterator. The idea is to exhaust one iterator copy and use
the other as input for the recursive generator function:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> itertools </span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> tee</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> Iterable</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">recycle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> Iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> i_copy </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> tee</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> i_copy</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> recycle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre></div><p class="css-1bkk5q4">If the function didn&#x27;t create a copy it would have only worked for
container-type objects. This implementation, however, is able to infinitely
cycle over any iterable object. We can test this by combining two recursive
generator functions:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><div class="token-line" style="color:#d6deeb"><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> g </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> recycle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">open_matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">Matriyoshka</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">size</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre></div><p class="css-1bkk5q4">On the downside this recursive generator function comes with a performance
overhead because it makes a copy of the iterable each time it enters a new
cycle.</p><h5 class="css-1g1owk0">Recursive <code class="css-0">repeat</code> Function</h5><p class="css-1bkk5q4">Examples of <code class="css-0">recount</code> and <code class="css-0">recycle</code> have shown how to create infinite recursive
generators. Reimplementation of <code class="css-0">repeat</code> poses a new problem. Since <code class="css-0">repeat</code>
can create finite iterators the recursive generator function requires a base
case to stop the recursion. Take a look at the following implementation:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> Iterator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TypeVar</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">T </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> TypeVar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;T&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">rerepeat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> T</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> times</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> Iterator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">T</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> x</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">new_times </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> times </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> rerepeat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> new_times</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></pre></div><p class="css-1bkk5q4">Generators created by calling <code class="css-0">rerepeat</code> yield the first argument used during
the function call. Afterwards the <code class="css-0">times</code> argument gets decremented. For the
generators with positive <code class="css-0">times</code> the decrementing means that the value becomes
closer to one. When <code class="css-0">times</code> becomes one the base case is reached. The <code class="css-0">if</code>
statement doesn&#x27;t activate and the generator stops unpacking new generators.
However, for the generators with negative <code class="css-0">times</code> (or zero) the decrementing
leads to even smaller numbers which drive it away from the base case.
Consequently, the generator with <code class="css-0">times</code> lower or equal to zero are infinite
generators.</p><p class="css-1bkk5q4">Here&#x27;s a taste of what we can do with the <code class="css-0">rerepeat</code> function:</p><div class="gatsby-highlight" data-language="py"><pre class="prism-code language-py" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><div class="token-line" style="color:#d6deeb"><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;-&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rerepeat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;NANA&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot; BATMAN!&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;NANA-NANA-NANA-NANA-NANA-NANA-NANA-NANA BATMAN!&#x27;</span></div></pre></div><p class="css-1bkk5q4">This works only because the <code class="css-0">times</code> argument is positive and the iterator is
finite. However, testing the same example with an infinite iterator would blow
up in our face!</p><h3 class="css-1u9n620">Discussion</h3><p class="css-1bkk5q4">The concept of functional recursion is applicable in the context of iterators
and results in the so-called <em class="css-0">recursive generator functions</em>.  We&#x27;ve shown that
functional recursion is a natural approach for creating both finite and
infinite iterators using the simplest use case of the <code class="css-0">yield from</code> statement.
It provides the <em class="css-0">unpacking mechanism</em> for iterable objects and establishes the
flow of recursive iteration. This circumvents the need for loops in generator
functions.</p><p class="css-1bkk5q4">We&#x27;ve used the concept of functional recursion to reimplemented pure functions
from the <code class="css-0">itertools</code> module. These exercises have shown how to set base case
for recursion. While implementing the <code class="css-0">recycle</code> function it was pointed out
that container-type objects, unlike iterators, cannot be exhausted. Therefore,
careful consideration has to be made to reflect the use case when designing a
recursive generator function.</p><p class="css-1bkk5q4">It is well-known that recursion in Python is a crippled tool since it builds on
top of the C stack. This is very unfortunate because it limits the application
of recursive generator function. Until the problem with recursion gets solved
recursive generator will only be a mental exercise aimed to help programmers
expand their way of thinking in terms of tools that are used in functional
programming.</p></section></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2020<!-- --> by <!-- -->@myletters<!-- -->. All rights reserved.</div><div><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog" class="css-688a3f">Theme</a> <!-- -->by<!-- --> <a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de/en" class="css-688a3f">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/recursive-generators";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-aaedecbb9476a1765865.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-68eb6d23883ce017a134.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx-11ddcde3958ded855f47.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-2c05e1dba3a72e44a418.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-5fb9095d46baa75b920d.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-5b2850099d4ff178d69b.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-65a8d65db29385d2ea4d.js"]};/*]]>*/</script><script src="/webpack-runtime-a970fe7df59ed9d5d1ce.js" async=""></script><script src="/f0e45107-afe5701ff94b95ebfc0d.js" async=""></script><script src="/app-aaedecbb9476a1765865.js" async=""></script><script src="/styles-f12963b3798c232a68f6.js" async=""></script><script src="/commons-284fd4559797fad9e19a.js" async=""></script><script src="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-5fb9095d46baa75b920d.js" async=""></script><script src="/framework-9fa3c3527bf76bdd7ce7.js" async=""></script></body></html>